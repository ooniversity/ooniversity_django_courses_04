{% extends 'base.html' %}

{% block title %}Students list{% endblock %}

{% block status_student %}active{% endblock %}

{% block content %}
    {% if messages %}
        {% for message in messages %}
        <div class="alert alert-success" role="alert">{{ message }}</div>
        {% endfor %}
    {% endif %}
    <div>
        <p><a class="btn btn-primary" href="{% url 'students:add' %}" role="button">
        <span class="glyphicon glyphicon-plus" aria-hidden="true"></span> Create New Student</a></p>
    </div>

      <h3>Students list</h3>
    </div>

    <table class="table">
      <thead>
        <tr>
          <th>#</th>
          <th>Surname Name</th>          
          <th>Address</th>
          <th>Skype</th>
          <th>Courses</th>
        </tr>
        </thead>
        <tbody>
        {% for item in students %}
        <tr>
          <td>{{ forloop.counter }}</td>
          <td><a href="{% url 'students:detail' item.id %}">{{ item }}</a></td>
          <td>{{ item.address }}</td>
          <td>{{ item.skype }}</td>
          <td>
            {% for course in item.courses.all %} 
              <a href="{% url 'courses:detail' course.id %}">{{ course }}</a> <br/> 
            {% endfor %}
          </td>
          <td>
            <p><a class="btn btn-primary" href="{% url 'students:edit' item.id %}" role="button">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Update</a></p>
          </td>
          <td>
            <p><a class="btn btn-primary" href="{% url 'students:remove' item.id %}" role="button">
            <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Remove</a></p>
          </td>
        </tr>
        {% endfor %}
        </tbody>

    </table>

{% endblock content %} 