{% extends "base.html" %}


{% block title %}Pybursa - Студенты {% endblock title %}


{% block nav_class_students %}active{% endblock %}


{% block content %}

{% include "include/messages_include.html" %}

<br>

  <h2>Список студентов</h2>
  <br>
    <a href="/students/add/" class="btn btn-success" role="button">
       <span class="glyphicon glyphicon-plus"></span> 
       Добавить нового студента
    </a>
    <hr>
   

<div class="table-responsive">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>#</th>
        <th>Фамилия имя</th>
        <th>адрес</th>
        <th>Skype</th>
        <th>курсы</th>
        <th></th>
        <th></th>
		  </tr>
    </thead>
    <tbody>
        {% for i in object_list %}
      <tr>
        <td>{{ i.id }}</td>
        <td><a href="{% url 'students:detail' i.id %}">{{i.surname}} {{ i.name }}</a></td>
        <td>{{ i.address}}</td>
        <td>{{ i.skype }}</td>
        <td> {% for course in i.courses.all %}
          <a href="{% url 'courses:detail' course.id %}">{{ course.name }}<br></a>
          {% endfor %}</td>
        <td>
            <a href="{% url 'students:edit' i.id %}" class="btn btn-success" type="button">
              <span class="glyphicon glyphicon-pencil"></span>            
                Изменить
            </a>
        </td>
        <td>
            <a href="{% url 'students:remove' i.id %}" class="btn btn-success" type="button">
              <span class="glyphicon glyphicon-trash"></span>
                Удалить
            </a>
        </td>
      </tr> 
      {% endfor %}
    </tbody>
  </table>   
 </div>

<ul class="pagination pagination-sm pagination-centered">
          {% if page_obj.has_previous %}
        <li>
              <a href="?{% if request.GET.course_id %}course_id={{ request.GET.course_id }}&{% endif %}page={{ page_obj.previous_page_number }}"><< previous</a>
        </li>
        {% endif %}
        <li>
            <a>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}</a>
        </li>
          {% if page_obj.has_next %}
        <li>
          <a href="?{% if request.GET.course_id %}course_id={{ request.GET.course_id }}&{% endif %}page={{ page_obj.next_page_number }}">next >></a>
        </li>
          {% endif %}
    </ul>
{% endblock content %} 

