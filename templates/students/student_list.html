{% extends "base.html" %}

{% block title %}DjBursa - Студенты{% endblock title %}

{% block nav_students %}active{% endblock nav_students %}

{% block content %}
<div class="row">
  <div class="col-lg-12">
  <p><a href="{% url 'students:add' %}" class="btn btn-primary" role="button"><span class="glyphicon glyphicon-plus"></span> Добавить нового студента</a></p>
  <p>Список студентов:</p>
</div>
  <table class="table table-hover">
    <thead class="thead-inverse">
      <tr>
        <th>#</th>
        <th>Surname Name</th>
        <th>Address</th>
        <th>Skype</th>
        <th>Courses</th>
      </tr>
    </thead>
    <tbody>
      {% for student in object_list %}
      <tr>
        <td>{{ forloop.counter }}</td>
        <td><a href="{% url 'students:detail' student.id %}">{{ student.surname }} {{ student.name }}</a> <a href="{% url 'students:edit' student.id %}"><span class="glyphicon glyphicon-edit"></span></a> <a href="{% url 'students:remove' student.id %}"><span class="glyphicon glyphicon-remove"></span></a></td>
        <td>{{ student.address }}</td>
        <td>{{ student.skype }}</td>
        <td>
          {% for student_course in student.courses.all %}
          <p><a href="{% url 'courses:detail' student_course.id %}">{{ student_course.name }}</a></p>
          {% endfor %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
<div class="row">
  <div class="col-lg-12">
    <nav>
      <ul class="pagination">
        {% if page_obj.has_previous %}
        <li>
          <a href="?page={{ page_obj.previous_page_number }}" aria-label="Previous"><span aria-hidden="true">&laquo; previous</span>
          </a>
        </li>
        {% endif %}
        {% for page_num in paginator.page_range %}
        <li {% if page_num == page_obj.number %}class="active"{% endif %}>
          <a href="?page={{ page_num }}">{{ page_num }}</a>
        </li>
        {% endfor %}
        {% if page_obj.has_next %}
        <li>
          <a href="?page={{ page_obj.next_page_number }}" aria-label="Next">
            <span aria-hidden="true">&raquo; next</span>
          </a>
        </li>
        {% endif %}
      </ul>
    </nav>
  </div>
</div>
{% endblock content %}


