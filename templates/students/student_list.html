{% extends "base.html" %}
{% load staticfiles %}


{% block title %}Students List{% endblock %}


{% block nav_class_studs %}active{% endblock %}

{% block content %}

    <button class="btn btn-primary add_student"
            type="button">
            <a href="{% url 'students:add' %}">
            <span class="glyphicon glyphicon-plus">Добавить нового студента</span>
            </a>
    </button>



    <h1 class="list_name_page">Список студентов</h1>
    {% if object_list %}
    <div class="container">
      <table class="table table-condensed">
        <thead>
          <tr>
            <th style="width:4%"><span class="text-muted">#</span></th>
            <th style="width:20%"><span class="text-muted">фамилия имя</span></th>
            <th style="width:20%"><span class="text-muted">адрес</span></th>
            <th style="width:10%"><span class="text-muted">skype</span></th>
            <th><span class="text-muted">курсы</span></th>
            <th><span class="text-muted"></span></th>
            <th><span class="text-muted"></span></th>
          </tr>
        </thead>
        <tbody>

        {% for student in object_list %}
          <tr>
            <td>{{ student.id }}</td>
            <td><a class="styled_links" href="{% url 'students:detail' student.id %}">{{ student.surname }} {{ student.name }}</a></td>
            <td>{{ student.address }}</td>
            <td>{{ student.skype }}</td>
            <td>
              {% for courses in student.courses.all %}
                <p><a class="styled_links" href="{% url 'courses:detail' courses.id %}">{{ courses }}</a></p>
              {% endfor %}
            </td>
            <td><a href="{% url 'students:edit' student.id %}">
                <span class="glyphicon glyphicon-pencil"></span>Изменить</a><br>
            </td>
            <td><a href="{% url 'students:remove' student.id %}">
          <span class="glyphicon glyphicon-remove"></span>Удалить</a><br>
            </td>

          </tr>
        {% endfor %}
        </tbody>
      </table>
    </div><!-- /.container  -->

  {% if is_paginated %}
        <div class="pagination my_pag">
            <span class="page-links">
                {% if page_obj.has_previous %}
                    <a href="?page={{ page_obj.previous_page_number }}">previous</a>
                {% endif %}
                <span class="page-current ">
                  {% for i in paginator.page_range %}
                    {% if i == page_obj.number %}
                      <a class="pag_current_num" href="?page={{ i }}">{{ i }}</a>
                  {% else %}
                    <a href="?page={{ i }}">{{ i }}</a>
                  {% endif %}
                  {% endfor %}
                </span>

                {% if page_obj.has_next %}
                    <a href="?page={{ page_obj.next_page_number }}">next</a>
                {% endif %}

            </span>
        </div>
    {% endif %}
{% endif %}


{% endblock content %}
